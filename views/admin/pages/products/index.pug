extends ../../layout/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
block main
    h1 Trang danh sách sản phẩm

    .card.mb-3
        .card-header Bộ lọc và Tìm kiếm
        .card-body
            .row
                .col-6
                    +filter-status(filterStatus)
                .col-6
                    +search(keyword)
                                
    .card.mb-3
        .card-header Danh sách sản phẩm
            table.table.table-hover.table-sm
                thead
                    tr
                    th STT
                    th Hình ảnh
                    th Tiêu đề
                    th Giá
                    th Trạng thái
                    th Hành động
                tbody
                    each product,index in products
                        tr
                            td #{index + 1}
                            td
                                img(
                                src=product.thumbnail
                                alt=product.title
                                width="100px"
                                height="auto"
                                )
                            td #{product.title}
                            td #{product.price}$
                            td
                                if(product.status == "active")
                                    a(href="#" class="badge badge-success") Hoạt động
                                else
                                    a(href="#" class="badge badge-danger") Dừng hoạt động
                                
                            td
                                button(class="btn btn-warning btn-sm") Sửa
                                button(class="btn btn-danger btn-sm ml-1") Xóa
                        
    nav
        ul(class="pagination")
            li(class="page-item")
                button(class="page-link"
                    button-pagination = 1) Trang đầu
            if(pagination.currentPage > 1)
                li(class = "page-item")
                    button(class="page-link"
                    button-pagination = pagination.currentPage - 1
                    ) Trang trước

            - for (let i = pagination.currentPage ; i <= pagination.currentPage + 2 && i <= pagination.totalPage; i++)
                 li(class=`page-item ${pagination.currentPage === i ? "active" : ""}`)
                    button(
                        class="page-link"
                        button-pagination=i
                    ) #{i}
           
            if(pagination.currentPage < pagination.totalPage)
                li(class = "page-item")
                    button(class="page-link"
                        button-pagination = pagination.currentPage + 1) Kế tiếp
            li(class="page-item")
                    button(class="page-link"
                    button-pagination = pagination.totalPage) Trang cuối


            